<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Quiz App</title>
  <style>
    /*
      #7289da 	(114,137,218)
      #ffffff 	(255,255,255)
      #99aab5 	(153,170,181)
      #2c2f33 	(44,47,51)
      #23272a 	(35,39,42)
    */

    @font-face {
      font-family: Lato;
      font-weight: normal;
      font-style: normal;
      src: url("/assets/fonts/Lato.woff");
    }

    @font-face {
      font-family: Lato;
      font-weight: bold;
      font-style: normal;
      src: url("/assets/fonts/Lato-Bold.woff");
    }

    @font-face {
      font-family: Lato;
      font-weight: normal;
      font-style: italic;
      src: url("/assets/fonts/Lato-Italic.woff");
    }

    @font-face {
      font-family: Lato;
      font-weight: bold;
      font-style: italic;
      src: url("/assets/fonts/Lato-BoldItalic.woff");
    }

    @font-face {
      font-family: Montserrat;
      font-weight: bold;
      src: url("/assets/fonts/Montserrat.otf");
    }

    @font-face {
      font-family: Ligature;
      font-weight: normal;
      font-style: normal;
      src: url("/assets/fonts/Ligature.woff");
    }


    body {
      margin: 0;
      font-family: Lato, sans-serif;
      font-variant-ligatures: none;
      color: #222;
    }

    header {
      height: 50px;
      background-color: #2c2f33;
      color: white;
    }

    div.header-content {
      margin: auto;
      max-width: 800px;
      height: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 1.5em;
      font-family: Montserrat;
      padding-right: 10px;
      padding-left: 10px;
    }

    div.nav-buttons {}

    button.nav-button {
      display: inline-flex;
      justify-content: center;
      align-items: center;
      font-family: Ligature;
      width: 2.5em;
      height: 2.5em;
    }

    main#main {
      margin: auto;
      max-width: 800px;
      padding: 10px;
      min-height:75vh;
    }

    footer{
      background-color:#2c2f33;
      color:white;
    }

    .footer-content{
      margin:auto;
      max-width:800px;
      display:flex;
      justify-content: center;
      align-items: flex-start;
      flex-wrap:wrap;
      padding:10px;
    }

    .footer-column{
      flex-basis:25%;
      flex-grow:1;
      flex-shrink:1;
      padding:10px;
    }

    h1.footer-heading{
      font-family: Montserrat;
      font-size:1.2em;
      margin:0;
    }

    button {
      border: none;
      cursor: pointer;
      font-family: Montserrat;
      transition: all 0.3s cubic-bezier(.11, 1.45, .31, 1.64) 0s;
      padding: 10px;
      border-radius: 3px;
      user-select: none;
      -moz-user-select: none;
      color: white;
      background-color: #7289da;
      box-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.3);
    }

    button:hover {
      transform: scale(1.05);
      box-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.3);
    }

    button:active {
      transform: scale(1);
      box-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.3);
      outline: none;
    }

    button:focus {
      transform: scale(1);
      box-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.3);
      outline: none;
    }

    button.main-button {
      display: block;
      margin-bottom: 1em;
      font-size: 1.5em;
      box-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.3);
    }

    button.small-button {
      display: inline-block;
      margin-bottom: 1em;
      box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.5);
    }

    button.category {
      display: inline-block;
      margin-bottom: 1em;
      box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.5);
      background-color: #2c2f33;
      margin-right: 0.5em;
    }

    button.category-selected {
      background-color: #7289da;
    }

    div.question {
      border-radius: 3px;
      padding: 10px;
      box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.5);
      animation: popIn 0.5s ease 0s;
      margin-bottom: 1em;
    }

    div.results-screen {
      border-radius: 3px;
      padding: 10px;
      box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.5);
      animation: popIn 0.5s ease 0s;
      margin-bottom: 1em;
    }

    div.quiz-question {}

    div.quiz-text {
      border-radius: 3px;
      padding: 8px;
      box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.5);
      margin-bottom: 1em;
      font-size: 1.5em;
    }

    div.quiz-answer {
      border-radius: 3px;
      box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.5);
      margin-bottom: 1em;
      padding: 8px;
      position: relative;
      opacity: 0;
      animation: popIn 0.3s ease 0s forwards;
      font-size: 1.3em;
      display: flex;
      justify-content: flex-start;
      align-items: center;
    }

    div.quiz-answer-correct {
      border-radius: 3px;
      box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.5);
      margin-bottom: 1em;
      padding: 8px;
      position: relative;
      font-size: 1.3em;
      display: flex;
      justify-content: flex-start;
      align-items: center;
      background-color: #43b581;
    }

    div.winner-icon{
      float:right;
    }

    div.winner-icon img{
      width:200px;
      height:auto;
    }

    div.player1-icon {
      display: inline-flex;
      height: 40px;
      width: 40px;
      position: absolute;
      right: 100%;
      justify-content: center;
      align-items: center;
      border-radius: 50%;
      margin-right: 10px;
    }

    div.player2-icon {
      display: inline-flex;
      height: 40px;
      width: 40px;
      position: absolute;
      left: 100%;
      justify-content: center;
      align-items: center;
      border-radius: 50%;
      margin-left: 10px;
      padding: 1px;
    }

    .player1-icon.icon-active {
      animation: icon-active 0.2s cubic-bezier(.17, .67, .54, 1.57) 0s;
      border: 3px solid #3f5294;
      background-position: 50%;
      background-size: cover;
      background-repeat: no-repeat;
    }

    .player2-icon.icon-active {
      animation: icon-active 0.2s cubic-bezier(.17, .67, .54, 1.57) 0s;
      border: 3px solid #940039;
      background-position: 50%;
      background-size: cover;
      background-repeat: no-repeat;
    }

    @keyframes icon-active {
      0% {
        transform: scale(0)
      }

      100% {
        transform: scale(1)
      }
    }

    div.quiz-answer-number {
      display: inline-flex;
      justify-content: center;
      align-items: center;
      height: 40px;
      width: 40px;
      font-family: Montserrat;
      border-radius: 50%;
      color: white;
      background-color: #7289da;
      padding: 10px;
      font-size: 1.5em;
      margin-right: 10px;
      box-sizing: border-box;
    }

    div.quiz-header {
      font-family: Montserrat;
      font-size: 2em;
      margin-bottom: 10px;
    }

    div#timer-bar {
      height: 10px;
      border-radius: 3px;
    }

    div#timer {
      font-family: Montserrat;
      font-size: 6em;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    div.timer-number {
      display: inline-block;
      animation: popIn 0.3s ease 0s forwards;
    }

    div.timer-number-finished {
      display: inline-block;
      color: #7289da;
      animation: popIn 0.3s ease 0s forwards;
    }

    @keyframes timer-bar {
      0% {
        width: 100%;
        background-color: rgb(114, 137, 218);
      }

      40% {
        background-color: rgb(114, 137, 218);
      }

      50% {
        background-color: rgb(185, 142, 0);
      }

      75% {
        background-color: rgb(185, 142, 0);
      }

      85% {
        background-color: rgb(185, 0, 0);
      }

      100% {
        width: 0%;
        background-color: rgb(185, 0, 0);
      }
    }

    div.question-header {
      font-weight: bold;
      padding-top: 10px;
      padding-bottom: 10px;
      clear:both;
    }

    @keyframes fadeIn {
      0% {
        opacity: 0;
      }

      100% {
        opacity: 1;
      }
    }

    @keyframes fadeOut {
      0% {
        opacity: 1;
      }

      100% {
        opacity: 0;
      }
    }

    @keyframes popIn {
      0% {
        transform: perspective(700px) translate3d(0, 0, 20px);
        opacity: 0;
      }

      100% {
        transform: perspective(0px) translate3d(0, 0, 0);
        opacity: 1;
      }
    }

    @keyframes slideInBottom {
      0% {
        transform: translateY(50px);
        opacity: 0;
      }

      100% {
        transform: translateY(0px);
        opacity: 1;
      }
    }

    @keyframes slideInRight {
      0% {
        transform: translateX(1100px);
      }

      100% {
        transform: translateX(0px);
      }
    }

    @keyframes slideInLeft {
      0% {
        transform: translateX(-1100px);
      }

      100% {
        transform: translateX(0px);
      }
    }

    @keyframes slideOutLeft {
      0% {
        transform: translateX(0px);
      }

      100% {
        transform: translateX(-1100px);
      }
    }

    @keyframes slideOutRight {
      0% {
        transform: translateX(0px);
      }

      100% {
        transform: translateX(1100px);
      }
    }


    div.question-text {}

    textarea[name="question"] {
      font-family: Lato, sans-serif;
      border-radius: 3px;
      resize: none;
      margin-bottom: 1em;
      border: none;
      padding: 5px;
      width: 450px;
      max-width: 100%;
      box-sizing: border-box;
      box-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.3) inset;
    }

    input[type="text"] {
      font-family: Lato, sans-serif;
      border-radius: 3px;
      margin-bottom: 1em;
      resize: none;
      border: none;
      padding: 5px;
      box-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.3) inset;
    }

    div#quiz {}

    div.question-text {}

    div.question-answer {
      animation: slideInBottom 0.3s cubic-bezier(.64, -0.7, .27, 1.83) 0s;
      padding: 5px;
      height: 40px;
    }

    div.remove-button {
      float: right;
    }

    span.icon {
      font-family: Ligature;
    }

    div.template {
      display: none !important;
    }

    a.link{
      color:#7289da;
      text-decoration: none;
    }

    div.character-icons {
      display: flex;
      justify-content: flex-start;
      align-items: flex-start;
      flex-wrap: wrap;
    }

    button.character-icon {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100px;
      width: 100px;
      margin-right: 0.5em;
      margin-bottom: 0.5em;
      background-color: unset;
      opacity: 0;
    }

    .player1-character-selected {
      border: 3px solid #3f5294;
    }

    .player2-character-selected {
      border: 3px solid #940039;
    }
  </style>

</head>

<script>
  // Start on DOM-Load
  document.addEventListener("DOMContentLoaded", function () {
    initialize();
  });

  // catch keypress
  window.addEventListener("keyup", function (e) {
    keyPress(e);
  }, false);

  // handle keypress
  function keyPress(e) {
    // Taste 1, Spieler 1
    if (e.keyCode == 49) {
      lockAnswer(1, 1);
    }
    // Taste 2, Spieler 1
    else if (e.keyCode == 50) {
      lockAnswer(1, 2);
    }
    // Taste 3, Spieler 1
    else if (e.keyCode == 51) {
      lockAnswer(1, 3);
    }
    // Taste 4, Spieler 1
    else if (e.keyCode == 52) {
      lockAnswer(1, 4);
    }
    // Taste 1, Spieler 2
    else if (e.keyCode == 65) {
      lockAnswer(2, 1);
    }
    // Taste 2, Spieler 2
    else if (e.keyCode == 66) {
      lockAnswer(2, 2);
    }
    // Taste 3, Spieler 2
    else if (e.keyCode == 67) {
      lockAnswer(2, 3);
    }
    // Taste 4, Spieler 2
    else if (e.keyCode == 68) {
      lockAnswer(2, 4);
    }
  }
  // Globals
  /*=========================================================*/
  let main = "";
  let currentQuestionNr = 0;
  let currentQuiz = {};
  let questionActive = false;
  let player1 = {};
  let player2 = {};
  let playerToSelect = 1;
  /*=========================================================*/

  function initialize() {
    main = document.getElementById("main");
    questionActive = false;
    currentQuestionNr = 0;
    currentQuiz = {};
    player1 = {};
    player1.answers = [];
    player1.correctAnswers = 0;
    player1.character = "";
    player1.name = "Spieler 1";
    player2 = {};
    player2.answers = [];
    player2.correctAnswers = 0;
    player2.character = "";
    player2.name = "Spieler 2";
    startApp();
  }

  // display functions
  function startApp() {
    main.innerHTML = getTemplate("start");
  }

  function playQuiz() {
    main.innerHTML = getTemplate("play-quiz");
  }

  function createQuiz() {
    main.innerHTML = getTemplate("add-questions");
  }

  function startQuiz() {
    startTimer(5, function () {
      showQuestion(currentQuiz.questions[currentQuestionNr]);
    }, true);
  }

  function showResults() {
    questionActive = false;
    let html = '';
    html += '<div class="results-screen">';
    for (let i = 0; currentQuiz.questions.length > i; i++) {
      var question = currentQuiz.questions[i];
      if (checkAnswers(player1.answers[i], question.correct)) {
        player1.correctAnswers++;
      }
      if (checkAnswers(player2.answers[i], question.correct)) {
        player2.correctAnswers++;
      }
    }
    if (player1.correctAnswers > player2.correctAnswers) {
      html += `<div class="quiz-header">Ergebnis: ${player1.name} gewinnt!
      <div class="winner-icon"><img src="${player1.character}"></div>
      </div>
      `;
    } else if (player2.correctAnswers > player1.correctAnswers) {
      html += `<div class="quiz-header">Ergebnis: ${player2.name} gewinnt!
      <div class="winner-icon"><img src="${player2.character}"></div>
      </div>
      `;
    } else {
      html += '<div class="quiz-header">Ergebnis: Unentschieden</div>';
    }
    html += 
    `<div class="quiz-header">Erreichte Punkte</div>
    <p>${player1.name}: ${player1.correctAnswers}</p>
    <p>${player2.name}: ${player2.correctAnswers}</p>
    </div>
    `;

    html += '<div class="quiz-header">Ergebnisse im Detail</div>';

    for (let i = 0; currentQuiz.questions.length > i; i++) {
      var question = currentQuiz.questions[i];
      html += getQuestionResult(question, i);
    }

    main.innerHTML = html;
  }

  function getQuestionResult(question, nr) {
    var html = "";
    html += `<div class="quiz-header">Frage ${(nr + 1)}</div>
    <div class="quiz-question">
    <div class="quiz-text">${question.text}
    </div>
    `;
    for (let j = 0; question.answers.length > j; j++) {
      if (question.correct.includes(j)) {
        html += '<div class="quiz-answer-correct">';
      } else {
        html += '<div class="quiz-answer">';
      }
      html += `<div class="quiz-answer-number">${String.fromCharCode(j + 65)}</div>${question.answers[j]}`;
      if (player1.answers[nr].includes(j)) {
        html += `<div class="player1-icon icon-active" style="background-image:url('${player1.character}')"></div>`;
      } else {
        html += '<div class="player1-icon"></div>';
      }
      if (player2.answers[nr].includes(j)) {
        html += `<div class="player2-icon icon-active" style="background-image:url('${player2.character}')"></div>`;
      } else {
        html += '<div class="player2-icon"></div>';
      }
      html += '</div>';
    }
    html += '</div>';
    return html;
  }

  function characterSelect() {
    main.innerHTML = getTemplate("character-select");
    var iconContainer = main.getElementsByClassName("character-icons")[0];
    for (let i = 1; i <= 42; i++) {
      var button = document.createElement("button");
      button.className = "character-icon";
      button.setAttribute("onclick", "selectCharacter(this)");
      button.innerHTML = '<img src="/assets/images/characters/_(' + i + ').png">';
      button.style.animation = 'popIn 0.2s ease ' + (i * 0.05) + 's forwards';
      iconContainer.appendChild(button);
    }
  }


  function selectCharacter(src) {
    var charSource = src.firstChild.src;
    if (playerToSelect == 1) {
      var selected = document.getElementsByClassName("player1-character-selected");
      for (let i = selected.length; i--;) {
        selected[i].classList.remove("player1-character-selected");
      }
      src.classList.add("player1-character-selected");
      player1.character = charSource;
      playerToSelect = 2;
    } else {
      var selected = document.getElementsByClassName("player2-character-selected");
      for (let i = selected.length; i--;) {
        selected[i].classList.remove("player2-character-selected");
      }
      src.classList.add("player2-character-selected");
      player2.character = charSource;
      playerToSelect = 1;
    }
  }

  function addAnswer(src) {
    var question = src;
    if (!question) return;
    var answer = document.createElement("div");
    answer.className = "question-answer";
    var answerHTML = `
    <label>Antwort</label><br>
    <input value="testanswer" type="text" name="answer">
    <input class="answer-checkbox" type="checkbox">
    <label>Richtige Antwort</label>
    `;
    answer.innerHTML = answerHTML;
    question.append(answer);
  }

  function addQuestion() {
    var questions = document.getElementById("questions");
    if (!questions) return;
    var question = document.createElement("div");
    question.className = "question";
    var questionHTML = 
    `
    <div class="question-header">Frage
    <div class="remove-button">
    <button class="small-button" style="font-family:Ligature; font-size:1.5em" onclick="this.parentNode.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode.parentNode)">close</button>
    </div>
    </div>
    <div class="question-text"><textarea default rows=5 name="question">Test</textarea></div>
    <label>Verf체gbare Zeit</label><br>
    <input type="text" name="question-time">
    `;
    question.innerHTML = questionHTML;
    questions.appendChild(question);
    for (i = 0; i < 4; i++) {
      addAnswer(question);
    }
    question.scrollIntoView({
      block: "start",
      behavior: "smooth"
    });
  }

  function getQuiz() {
    var quizid = document.querySelector("input[name=quizid]");
    if (!quizid) return;
    quizid = quizid.value.trim();

    if (quizid == "") {
      alert("ID cannot be empty.");
      return;
    }

    var xhr = new XMLHttpRequest();
    xhr.open("POST", 'getquiz.php', true);

    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

    xhr.onreadystatechange = function () {
      if (this.readyState === XMLHttpRequest.DONE && this.status === 200) {
        var response = xhr.responseText;
        if (!(response.match(/Error:/))) {
          try {
            currentQuiz = JSON.parse(response);
            characterSelect();
          } catch (e) {
            alert(e);
          }
        } else {
          alert("Could not get quiz.");
        }
      }
    }
    xhr.send("filename=" + quizid);
  }

  function saveQuiz() {
    let questions = document.getElementsByClassName("question");

    if (questions.length == 0) {
      alert("Your quiz needs at least one question!");
      return;
    }

    let quiz = {};
    let questionsArray = [];

    for (let i = 0; questions.length > i; i++) {
      var questionText = questions[i].querySelector('textarea[name="question"]').value;
      var questionTime = parseInt(questions[i].querySelector('input[name="question-time"').value) || 10;

      var answers = questions[i].getElementsByClassName("question-answer");
      var answerArray = [];
      var correctAnswers = [];
      for (let j = 0; answers.length > j; j++) {
        var answerText = answers[j].querySelector('input[name="answer"]').value;
        if (answers[j].querySelector('input[type="checkbox"]').checked == true) {
          correctAnswers[correctAnswers.length] = j;
        }
        answerArray[j] = answerText;
      }
      if (correctAnswers.length == 0) {
        alert("Every question needs at least one correct answer! Question " + (i + 1));
        return;
      }
      questionsArray[i] = {
        text: questionText,
        answers: answerArray,
        correct: correctAnswers,
        time: questionTime
      };
    }

    quiz.questions = questionsArray;

    var xhttp = new XMLHttpRequest();
    xhttp.open('POST', 'submit.php', true);
    xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

    xhttp.onreadystatechange = function () {
      if (xhttp.readyState == 4 && xhttp.status == 200) {
        var response = xhttp.responseText;
        if (response.match(/\.json$/)) {
          // TODO Quiz saved
          alert("Quiz saved. Use ID " + response.replace(/\.json$/, "") + " to play your quiz!");
          playQuiz();
        } else {
          alert("Could not save your quiz.");
        }
      }

    }
    xhttp.send("json=" + encodeURIComponent(JSON.stringify(quiz)));
    return;

  }

  function showQuestion(question) {
    let html = `
    <div id="quiz">
    <div class="quiz-header">Frage ${currentQuestionNr + 1} </div>
    <div id="timer-bar" style="animation: timer-bar ${question.time}s linear 0s"></div>
    <div class="quiz-question">
    <div class="quiz-text">${question.text}
    </div>
    `;
    for (j = 0; question.answers.length > j; j++) {
      html += `<div class="quiz-answer">
      <div class="quiz-answer-number">${String.fromCharCode(j + 65)}</div>
      ${question.answers[j]}
      <div class="player1-icon"></div>
      <div class="player2-icon"></div>
      </div>
      `;
    }
    html += `</div>
    </div>
    `;
    main.innerHTML = html;
    questionActive = true;

    if (currentQuestionNr++ < currentQuiz.questions.length - 1) {
      startTimer(question.time, function () {
        saveAnswers();
        showQuestion(currentQuiz.questions[currentQuestionNr]);
      });
    } else {
      startTimer(question.time, function () {
        saveAnswers();
        showResults();
      });
    }
  }

  function startTimer(length, callback, timerVisible) {
    if (timerVisible) {
      showTimer(length);
      length += 1;
    }
    window.setTimeout(function () {
      callback();
    }, length * 1000);
  }

  function showTimer(length) {
    var html = '<div id="timer">' + length + '</div>';
    main.innerHTML = html;
    let timerId = setTimeout(function tick() {
      let counter = parseInt(document.getElementById("timer").textContent);
      if (counter - 1 > 0) {
        document.getElementById("timer").innerHTML = `<div class="timer-number">${(counter - 1)}</div>`;
      } else {
        document.getElementById("timer").innerHTML = '<div class="timer-number-finished">Start!</div>';
      }
      if (counter > 1)
        timerId = setTimeout(tick, 1000);
    }, 1000);
  }

  function checkAnswers(playerAnswers, correctAnswers) {
    if (playerAnswers.length !== correctAnswers.length)
      return false;
    for (var i = playerAnswers.length; i--;) {
      if (playerAnswers[i] !== correctAnswers[i])
        return false;
    }
    return true;
  }

  function saveAnswers() {
    var answers = document.getElementsByClassName("quiz-answer");
    var p1Answers = [];
    var p2Answers = [];
    var p1AnswerCount = 0;
    var p2AnswerCount = 0;
    for (let i = 0; answers.length > i; i++) {
      var p1 = answers[i].getElementsByClassName("player1-icon")[0];
      var p2 = answers[i].getElementsByClassName("player2-icon")[0];
      if (p1.classList.contains("icon-active")) {
        p1Answers[p1AnswerCount] = i;
        p1AnswerCount++;
      }
      if (p2.classList.contains("icon-active")) {
        p2Answers[p2AnswerCount] = i;
        p2AnswerCount++;
      }
    }
    player1.answers[currentQuestionNr - 1] = p1Answers;
    player2.answers[currentQuestionNr - 1] = p2Answers;
  }

  function lockAnswer(playerNr, answerNr) {
    if (!questionActive) return;
    var answer = document.getElementsByClassName("quiz-answer")[answerNr - 1];
    var icon = answer.getElementsByClassName("player" + playerNr + "-icon")[0];
    icon.classList.toggle("icon-active");
    if (playerNr == 1) {
      icon.style.backgroundImage = `url("${player1.character}")`;
    } else {
      icon.style.backgroundImage = `url("${player2.character}")`;
    }
  }

  // Get template to display
  function getTemplate(id) {
    var template = document.getElementById(id);
    if (!template) {
      template = document.getElementById("error");
    }
    template = template.innerHTML;
    return template.trim();
  }
</script>

<body>
  <header>
    <div class="header-content">Quiz Battle
      <div class="nav-buttons">
        <button class="nav-button" onclick="initialize()">home</button>
      </div>
    </div>
  </header>
  <main id="main"></main>
  <footer>
    <div class="footer-content">
      <div class="footer-column">
        <img style="max-width: 90%;" src="/images/superbasic.png">
      </div>
      <div class="footer-column">
        <h1 class="footer-heading">Impressum</h1>
        <p>Superbasic GmbH<br>
          Andreas-Gordon-Schule<br>
          Weidengasse 8<br>
          99089 Erfurt

        </p>
      </div>
      <div class="footer-column">
        <h1 class="footer-heading">Credits</h1>
        <p>Character Icons made by <a class="link" href="https://www.freepik.com/" target="blank" rel="noopener">Frepik</a> from <a class="link" href="http://www.flaticon.com" target="blank" rel="noopener">www.flaticon.com</a></p>
      </div>
    </div>
  </footer>

  <div class="template" id="start">
    <button class="main-button" onclick="playQuiz()"><span class="icon">play </span>Quiz spielen</button>
    <button class="main-button" onclick="createQuiz()"><span class="icon">add </span>Fragen hinzuf체gen</button>
  </div>

  <div class="template" id="add-questions">
    <div id="questions"></div>
    <button class="main-button" onclick="addQuestion()">Frage hinzuf체gen</button>
    <button class="small-button" onclick="saveQuiz()">Fragen speichern</button>
  </div>

  <div class="template" id="play-quiz">
    <div class="quiz-header">Quiz-ID eingeben</div>
    <input type="text" value="7462026125d6649c8509a89.27962096" name="quizid">
    <button class="small-button" onclick="getQuiz()">Quiz starten</button>
    <div class="quiz-header">Oder Kategorien w채hlen</div>
    <button class="category" onclick="this.classList.toggle('category-selected')">Datenbanken</button>
    <button class="category" onclick="this.classList.toggle('category-selected')">Hardware</button>
    <button class="category" onclick="this.classList.toggle('category-selected')">Netzwerke</button>
  </div>



  <div class="template" id="character-select">
    <div class="quiz-header">Charakterauswahl</div>
    <div>
      <label>Name Spieler 1</label><br><input type="text" onchange="player1.name = this.value;"><br>
      <label>Name Spieler 2</label><br><input type="text" onchange="player2.name = this.value;">
    </div>
    <div class="character-icons"></div>
    <button class="main-button" onclick="startQuiz()">Start</button>
  </div>

  <div class="template" id="error">
    <div class="quiz-header">Fehler</div>
    <p>Interner Fehler.</p>
  </div>

</body>

</html>